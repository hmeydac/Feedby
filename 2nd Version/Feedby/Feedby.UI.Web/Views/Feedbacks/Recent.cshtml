@using Feedby.UI.Web.Models
@model IEnumerable<Feedby.UI.Web.Models.Feedbacks.GroupedFeedbacksModel>

@{
    ViewBag.Title = "Recent Feedbacks";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@{
    this.Html.RenderPartial("FeedbacksSidebar");
}

@{
    var reviewIndex = 0;
}

<section class="main-section">

    <div class="recentFeedbacks tableWrapper">
        <div class="table">
            @foreach (var item in Model)
            {
                ViewBag.Right = (reviewIndex & 1) != 0; // odds on the right
                ViewBag.CurrentItem = item;
                
                <div class="row">
                    <div class="leftCol mainLeftCol">
                        @if (!ViewBag.Right)
                        {
                            @Html.Partial("_RecentFeedbacksPartial")
                        }
                    </div>
                    <div class="rightCol mainRightCol">
                        @if (ViewBag.Right)
                        {
                            @Html.Partial("_RecentFeedbacksPartial")
                        }
                    </div>
                </div>

                        reviewIndex++;
            }

        </div>
    </div>

</section>

@section scripts{
    @*    <script src="~/Scripts/app.js"></script>
    <script src="~/Scripts/controllers/review.controller.js"></script>
    <script type="text/javascript">
        var controller = new Feedby.ReviewController($("#review-container"));
        controller.init();
    </script>*@
}